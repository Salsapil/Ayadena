<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Macrame Event</title>
    <link rel="stylesheet" href="{{url_for('static', filename='macrame_event.css')}}">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

    <div class="header">
        <h1><img src="{{url_for('static', filename='/imgma/macrame.png')}}" style="width: 35px;" alt=""> Macrame Event
        </h1>
    </div>
    <header>
        <a href="/" class="logo">
            <img src="{{ url_for('static', filename='/images/heyy.png') }}" alt="Logo"> Ayadena
        </a>
        <ul class="navlist">
            <li><a href="/">Home</a></li>
            <li><a href="/login">Login</a></li>
            <li><a href="/about_us">About</a></li>
            <li><a href="/category">Shop</a></li>
            <div class="nav-right">
                <a href="#"><i class='bx bx-user'></i></a>
                <a href="/add_to_cart"><i class='bx bxs-cart-alt'></i></a>
            </div>
        </ul>
    </header>

    <div class="main-container" style="width: 75%; height: auto; margin: auto;">
        <div class="se1">
            <img src="{{url_for('static', filename='/imgma/0000.jpg')}}"
                style="margin-top: 30px; width: 100%; height: 500px;" alt="">
        </div>
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="10000">
                    <div class="carousel-caption d-none d-md-block" style="text-align: center; margin-bottom: 60px;">
                        <h5 style="font-size: 22px; margin-top: 50px;"><img
                                src="{{url_for('static', filename='/imgma/0000.jpg')}}"
                                style="width: 35px; margin-right: 20px;" alt="">History of Macrame</h5>
                        <p style="font-size: 18px;">Egyptian macrame was used by the Egyptians for practical and
                            decorative purposes. The Egyptians utilized knotting techniques to create intricate patterns
                            in their clothing, headdresses, and jewelry. This method allowed them to produce durable and
                            flexible fabrics that were both functional and aesthetically pleasing.</p>
                    </div>
                </div>
                <div class="carousel-item" data-bs-interval="2000">
                    <div class="carousel-caption d-none d-md-block" style="margin-bottom: 100px;">
                        <h5 style="font-size: 22px">"Knot Your Average Decor: Stunning Macrame Creations for Every Home"
                        </h5>
                        <p style="font-size: 18px;"></p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="carousel-caption d-none d-md-block" style="margin-bottom: 100px;">
                        <h5 style="font-size: 22px;">Tangled in Beauty: The Ultimate Guide to Elegant Macrame Designs
                        </h5>
                        <p></p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div class="container">
            <div id="filterable-cards" class="products" style="background-color: #FAEED1; width: 130%;">
            </div>
            <h4 id="h4" style="border-radius: 20%;">Our Artist</h4>
            <div class="se3">
                <div class="item">
                    <div class="img-con">
                        <img src="{{url_for('static', filename='/imgma/twome-21.jpg')}}" alt="">
                    </div>
                    <p style="background-color:#803D3B;">Sally</p>
                </div>
                <div class="item">
                    <div class="img-con">
                        <img src="{{url_for('static', filename='/imgma/m6.jpg')}}" alt="">
                    </div>
                    <p style="background-color:#803D3B;">Lalia</p>
                </div>
                <div class="item">
                    <div class="img-con">
                        <img src="{{url_for('static', filename='/imgma/m5.jpg')}}" alt="">
                    </div>
                    <p style="background-color:#803D3B;">Saher</p>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(() => {
            let products = {{ product | tojson
        }};
        console.log(products)
        products.forEach(element => {
            $("#filterable-cards").append(
                `
                        <div class="product" style="background-color: #803D3B;">
                        <img src="/static/imgma/${element["image"]}" alt="World Pottery Day Mug">
                        <h3 style="font-family: caveat;">${element["name"]}</h3>
                        <p>${element["price"]} LE.</p>
                        <button class="boo add-to-cart" id="${element.product_id}"><a href="#">Add to cart</a><i class='bx bxs-cart-alt'> </i></button>
                        </div>
                        `
            )
        })
        });
        $(document).on("click", "button.add-to-cart", function () {
            const productId = $(this).attr("id");
            console.log(productId);
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                type: "POST",
                url: '/add_to_cart',
                data: JSON.stringify({ product_id: productId }),
                dataType: "json",
                success: function (response) {
                    console.log(response);
                    alert("Added Successfully!")
                }
            });
        });
    </script>
</body>

</html>